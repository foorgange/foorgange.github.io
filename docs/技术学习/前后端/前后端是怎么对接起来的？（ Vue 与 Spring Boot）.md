# å‰åç«¯æ˜¯æ€ä¹ˆå¯¹æ¥èµ·æ¥çš„ï¼Ÿï¼ˆ Vue ä¸ Spring Bootï¼‰

å¾ˆå¤šåˆšå­¦ä¹ å‰ç«¯ï¼ˆHTML/CSS/JS/Vueï¼‰æˆ–è€…åç«¯ï¼ˆJava/Spring Bootï¼‰çš„æœ‹å‹ï¼Œéƒ½ä¼šé‡åˆ°ä¸€ä¸ªå…±é€šçš„å›°æƒ‘ï¼š

> â€œæˆ‘èƒ½å†™é¡µé¢ï¼Œä¹Ÿèƒ½å†™æ¥å£ï¼Œä½†å®ƒä»¬æ€ä¹ˆè¿èµ·æ¥çš„ï¼Ÿâ€

æœ¬ç¯‡æ–‡ç« å°±ä¸ºä½ è§£é”ä»‹ç»è¿™ä¸ªæœ€åŸºç¡€çš„çŸ¥è¯†ç‚¹ï¼Œä»**å‰åç«¯åˆ†ç¦»çš„æ€æƒ³å…¥é—¨**ï¼Œåˆ°**Vue ä½¿ç”¨ Axios è°ƒç”¨ Spring Boot æ¥å£çš„æ¡ˆä¾‹**ï¼Œä¸€æ­¥æ­¥å¸¦ä½ æå®šã€‚

## ä¸€ã€ä»€ä¹ˆæ˜¯å‰åç«¯åˆ†ç¦»ï¼Ÿ

### 1. ä¼ ç»Ÿå¼€å‘æ¨¡å¼ï¼šé¡µé¢ä¸æ¥å£æ··åœ¨ä¸€èµ·

åœ¨æ—©æœŸçš„ Web åº”ç”¨å¼€å‘ä¸­ï¼Œå‰ç«¯é¡µé¢å’Œåç«¯é€»è¾‘å¸¸å¸¸ç´§å¯†è€¦åˆåœ¨ä¸€èµ·ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª Java Web é¡¹ç›®å¾€å¾€é‡‡ç”¨ **JSP é¡µé¢ + Servlet æˆ– Spring MVC Controller** çš„æ¨¡å¼ã€‚ç”¨æˆ·è¯·æ±‚ä¸€ä¸ªé¡µé¢ï¼ŒæœåŠ¡å™¨ä¼šåœ¨åç«¯æ‹¼æ¥ HTML å¹¶å°†æ•´é¡µå†…å®¹è¿”å›ç»™æµè§ˆå™¨ã€‚

è¿™ç§æ¨¡å¼çš„ç‰¹ç‚¹æ˜¯ï¼š

* **é¡µé¢æ¸²æŸ“åœ¨æœåŠ¡ç«¯å®Œæˆ**ï¼Œå‰ç«¯åªè´Ÿè´£å±•ç¤ºç»“æœï¼›
* **å‰ç«¯å’Œåç«¯ä»£ç è€¦åˆä¸¥é‡**ï¼Œä¸€å¤„æ”¹åŠ¨å¾€å¾€éœ€è¦åŒæ—¶ä¿®æ”¹åç«¯ JSP æ–‡ä»¶ä¸ Controller é€»è¾‘ï¼›
* **å¼€å‘æ•ˆç‡å—é™**ï¼Œå‰ç«¯æ— æ³•ç‹¬ç«‹å¼€å‘æˆ–æµ‹è¯•åŠŸèƒ½ï¼Œåç«¯å‹åŠ›è¾ƒå¤§ï¼›
* ä¸åˆ©äºé€‚é…ç°ä»£å¤šç«¯è®¾å¤‡ï¼ˆPCã€ç§»åŠ¨ã€Appï¼‰ã€‚

### 2. å‰åç«¯åˆ†ç¦»æ¨¡å¼ï¼šå„å¸å…¶èŒã€èŒè´£æ¸…æ™°

éšç€å‰ç«¯æŠ€æœ¯çš„å‘å±•ï¼Œç‰¹åˆ«æ˜¯ **Vueã€Reactã€Angular ç­‰ç°ä»£å‰ç«¯æ¡†æ¶çš„æµè¡Œ**ï¼Œå‰åç«¯åˆ†ç¦»é€æ¸æˆä¸ºä¸»æµæ¶æ„æ¨¡å¼ã€‚

**å‰åç«¯åˆ†ç¦»æŒ‡çš„æ˜¯ï¼š**

> å‰ç«¯å’Œåç«¯åˆ†ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„é¡¹ç›®ï¼Œåˆ†åˆ«è´Ÿè´£ä¸åŒçš„èŒè´£ï¼Œé€šè¿‡æ¥å£ï¼ˆAPIï¼‰è¿›è¡Œé€šä¿¡ã€‚

####  å‰ç«¯èŒè´£ï¼š

* ä½¿ç”¨ Vue / React / åŸç”Ÿ HTML+CSS+JS ç­‰æ„å»ºç”¨æˆ·ç•Œé¢ï¼›
* è´Ÿè´£é¡µé¢æ¸²æŸ“ã€äº¤äº’é€»è¾‘ï¼ˆå¦‚æŒ‰é’®ç‚¹å‡»ã€è¡¨å•è¾“å…¥ï¼‰ï¼›
* é€šè¿‡ Ajaxã€Axios ç­‰å·¥å…·è°ƒç”¨åç«¯æ¥å£ï¼ŒåŠ¨æ€è·å–æˆ–æäº¤æ•°æ®ã€‚

####  åç«¯èŒè´£ï¼š

* ä½¿ç”¨ Spring Boot / Node.js / Python ç­‰è¯­è¨€æ¡†æ¶å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼›
* ä¸æ•°æ®åº“äº¤äº’ï¼Œå®Œæˆå¢åˆ æ”¹æŸ¥ï¼›
* å‘å‰ç«¯æä¾›æ ‡å‡†çš„ HTTP æ¥å£ï¼ˆé€šå¸¸è¿”å› JSON æ•°æ®ï¼‰ã€‚

####  é€šä¿¡æ–¹å¼ï¼š

* é€šå¸¸é‡‡ç”¨ **HTTP åè®® + JSON æ•°æ®æ ¼å¼**ï¼›
* å‰ç«¯é€šè¿‡è°ƒç”¨ RESTful æ¥å£ï¼ˆå¦‚ `/api/user/list`â€‹ï¼‰è·å–æˆ–æ“ä½œæ•°æ®ï¼›
* ä¹Ÿå¯ä»¥ä½¿ç”¨ WebSocket å®ç°å®æ—¶é€šä¿¡ã€‚

---

### 3. å‰åç«¯åˆ†ç¦»çš„ä¼˜ç‚¹ï¼š

|ä¼˜ç‚¹|è¯´æ˜|
| --------------------| -----------------------------------------------------------------|
|ä»£ç èŒè´£æ¸…æ™°|å‰åç«¯å„è‡ªä¸“æ³¨é¢†åŸŸï¼Œåˆ†å·¥æ˜ç¡®ï¼Œå‡å°‘ç›¸äº’å¹²æ‰°|
|ä¾¿äºå›¢é˜Ÿåä½œ|å‰ç«¯å’Œåç«¯å¯ä»¥å¹¶è¡Œå¼€å‘ï¼Œæé«˜æ•ˆç‡|
|æ›´æ˜“äºæµ‹è¯•ä¸éƒ¨ç½²|æ¥å£å¯ç‹¬ç«‹æµ‹è¯•ï¼Œéƒ¨ç½²æ—¶å‰åç«¯å¯ä»¥åˆ†åˆ«ä¸Šçº¿|
|æ›´é€‚é…ç°ä»£åº”ç”¨éœ€æ±‚|æ”¯æŒ SPAï¼ˆå•é¡µåº”ç”¨ï¼‰ã€PWAã€ç§»åŠ¨ç«¯ã€å°ç¨‹åºç­‰å¤šç§ç»ˆç«¯|
|æ›´çµæ´»çš„æŠ€æœ¯é€‰å‹|å‰åç«¯å¯ä½¿ç”¨ä¸åŒæŠ€æœ¯æ ˆï¼Œå¦‚ Vue + Spring Boot æˆ– React + Node.js|
|æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ|é¡µé¢åŠ è½½æ›´å¿«ã€å“åº”æ›´çµæ´»ï¼Œå¯å®ç°å±€éƒ¨åˆ·æ–°ä¸åŠ¨æ€æ›´æ–°|

## äºŒã€å‰åç«¯å·¥ç¨‹ç»“æ„ä¸å¼€å‘æµç¨‹

åœ¨å‰åç«¯åˆ†ç¦»çš„å¼€å‘æ¨¡å¼ä¸­ï¼Œå‰åç«¯åˆ†åˆ«ä½œä¸ºä¸¤ä¸ªç‹¬ç«‹é¡¹ç›®è¿›è¡Œå¼€å‘å’Œéƒ¨ç½²ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå…¸å‹çš„å·¥ç¨‹ç»“æ„ï¼š

```
ğŸ“ vue-front         # å‰ç«¯é¡¹ç›®ï¼Œä½¿ç”¨ Vue3 + Vite å¼€å‘ï¼Œç‹¬ç«‹å¯åŠ¨
ğŸ“ springboot-back   # åç«¯é¡¹ç›®ï¼Œä½¿ç”¨ Spring Boot å¼€å‘ï¼Œæä¾› RESTful æ¥å£
```

### 2.1 å¼€å‘æµç¨‹ç®€è¿°ï¼š

1. **åç«¯å…ˆè¡Œï¼šå®šä¹‰æ¥å£**

    * ä¾‹å¦‚ï¼š`GET /api/users/{id}`â€‹ï¼Œè¿”å›æŒ‡å®šç”¨æˆ·çš„ä¿¡æ¯ï¼Œæ•°æ®æ ¼å¼ä¸º JSONã€‚
2. **å‰ç«¯å¯¹æ¥ï¼šä½¿ç”¨ Axios è¯·æ±‚æ¥å£**

    * è·å–æ•°æ®å¹¶æ¸²æŸ“åˆ°é¡µé¢ä¸­ã€‚
3. **å‰ååä½œï¼šä¾èµ–æ¥å£æ–‡æ¡£**

    * æ¥å£æ–‡æ¡£å¯ä»¥æ‰‹åŠ¨ç¼–å†™ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ Swagger ç­‰å·¥å…·è‡ªåŠ¨ç”Ÿæˆï¼Œä¾¿äºåŒæ–¹åä½œã€‚  

      ---

      â€

â€

> åœ¨ç¼–å†™å¥½äº†åç«¯éƒ¨åˆ†çš„ç¨‹åºåï¼Œæˆ‘ä»¬é€šå¸¸æä¾›ä¸€ä¸ªåç«¯æ¥å£ Spring Boot APIï¼Œé‚£ä¹ˆæ ¸å¿ƒæ“ä½œå°±æ˜¯è·å–åç«¯æ¥å£æä¾›çš„æ•°æ®ç„¶åæ¸²æŸ“åœ¨å‰ç«¯
>
> ä¸Šï¼Œè¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬ä¸»è¦é€šè¿‡**Axiosæ¥å®Œæˆã€‚**

---

### 2.2 ä»€ä¹ˆæ˜¯axios?

**Axios** æ˜¯ä¸€ä¸ªåŸºäº Promise çš„ HTTP å®¢æˆ·ç«¯ï¼Œè¿è¡Œåœ¨æµè§ˆå™¨å’Œ Node.js ä¸­ï¼Œç”¨äºå‘é€ç½‘ç»œè¯·æ±‚ï¼ˆæ¯”å¦‚ GETã€POST ç­‰ï¼‰ï¼Œå¸¸ç”¨äºå‰ç«¯é¡¹ç›®ä¸­å‘åç«¯æ¥å£è·å–æˆ–æäº¤æ•°æ®ã€‚

ç®€å•æ¥è¯´ï¼š

> Vue/React é¡¹ç›®ä¸­ï¼Œä½ æƒ³è°ƒç”¨åç«¯çš„æ¥å£ï¼Ÿå°±ç”¨ Axiosï¼

---

##  Axios çš„ä¼˜åŠ¿

ä¸ºä»€ä¹ˆä¸ç”¨åŸç”Ÿ `fetch`â€‹ï¼Œè€Œè¦ç”¨ Axios å‘¢ï¼Ÿçœ‹çœ‹ Axios çš„å¥½å¤„ï¼š

|ä¼˜åŠ¿|è¯´æ˜|
| --------------------| -----------------------------------|
|ç®€å•è¯­æ³•|æ¯”`fetch`â€‹å†™æ³•æ›´ç›´è§‚ï¼Œä¸éœ€è¦é¢å¤–`.json()`â€‹|
|è¯·æ±‚æ‹¦æˆª/å“åº”æ‹¦æˆª|å¯ç»Ÿä¸€åŠ  Tokenã€ç»Ÿä¸€å¤„ç†é”™è¯¯|
|è‡ªåŠ¨è½¬æ¢ JSON|è¯·æ±‚å‚æ•°å’Œå“åº”ç»“æœéƒ½è‡ªåŠ¨å¤„ç† JSON|
|æ”¯æŒè¶…æ—¶ã€å–æ¶ˆè¯·æ±‚|ç½‘ç»œä¸ç¨³å®šæ—¶å¾ˆæœ‰ç”¨|
|æ”¯æŒå¹¶å‘è¯·æ±‚|å¯åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚ï¼Œå¦‚`axios.all`â€‹|
|æµè§ˆå™¨å…¼å®¹æ€§å¥½|æ¯” fetch æ›´å¹¿æ³›æ”¯æŒè€ç‰ˆæœ¬æµè§ˆå™¨|

---

## ğŸ›  Axios å®‰è£…ä¸åŸºæœ¬ç”¨æ³•

### å®‰è£…

```bash
npm install axios
```

### å¯¼å…¥ä½¿ç”¨

```js
import axios from 'axios'
```

---

## åŸºç¡€è¯·æ±‚ç¤ºä¾‹

### 1. GET è¯·æ±‚ï¼ˆè·å–æ•°æ®ï¼‰

```js
axios.get('/api/users/1')
  .then(res => {
    console.log(res.data) // æ‹¿åˆ°åç«¯è¿”å›çš„æ•°æ®
  })
  .catch(err => {
    console.error('è¯·æ±‚å¤±è´¥', err)
  })
```

### 2. POST è¯·æ±‚ï¼ˆæäº¤æ•°æ®ï¼‰

```js
axios.post('/api/users', {
  name: 'å°çº¢',
  email: 'hong@example.com'
})
```

### 3. PUT è¯·æ±‚ï¼ˆæ›´æ–°æ•°æ®ï¼‰

```js
axios.put('/api/users/1', {
  name: 'æ–°åå­—'
})
```

### 4. DELETE è¯·æ±‚ï¼ˆåˆ é™¤æ•°æ®ï¼‰

```js
axios.delete('/api/users/1')
```

---

> ä½†æ˜¯æ³¨æ„ï¼Œæˆ‘ä»¬ä¸æ¨èåœ¨ç»„ä»¶ä¸­ç›´æ¥å†™ `axios.get(...)`â€‹ï¼Œè€Œæ˜¯**åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­å°è£…**æ¥å£é€»è¾‘ï¼Œä¾¿äºç»Ÿä¸€ç»´æŠ¤ã€ä¿®æ”¹å’Œå¤ç”¨ã€‚ä»¥ä¸€ä¸ªç”¨æˆ·æ¥å£ä¸ºä¾‹å­ã€‚
>
> ---
>
> â€

### å°è£… Axios è¯·æ±‚ï¼ˆservices/user.jsï¼‰

```js
// ğŸ“ src/services/user.js
import axios from 'axios'

// åç«¯æ¥å£åŸºç¡€åœ°å€
const base = 'http://localhost:8080/api/users'

// è·å–æŒ‡å®šç”¨æˆ·
export function getUser(id) {
  return axios.get(`${base}/${id}`)
}
```

> æ³¨æ„ï¼šè¿™é‡Œçš„ `base`â€‹ å°±æ˜¯ä½ æåˆ°çš„â€œåç«¯æ¥å£åœ°å€â€çš„æ¥æºï¼æˆ‘ä»¬ç”¨å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼ï¼ŒæŠŠç”¨æˆ· ID åŠ åˆ° URL ä¸Šï¼Œå½¢æˆå®Œæ•´è¯·æ±‚åœ°å€ã€‚

---

### åœ¨ç»„ä»¶ä¸­è°ƒç”¨ï¼ˆUserInfo.vueï¼‰

```vue
<script setup>
import { ref, onMounted } from 'vue'
import { getUser } from '../services/user.js'

// ç”¨ ref åˆ›å»ºå“åº”å¼ç”¨æˆ·å¯¹è±¡
const user = ref({})

// é¡µé¢åŠ è½½æ—¶è¯·æ±‚åç«¯æ¥å£
onMounted(async () => {
  const res = await getUser(1) // å‘èµ· HTTP è¯·æ±‚ï¼Œå‚æ•° 1 æ˜¯ç”¨æˆ· ID
  user.value = res.data // å“åº”ç»“æœèµ‹å€¼ç»™ user
})
</script>

<template>
  <div v-if="user.name">
    <h2>ç”¨æˆ·åï¼š{{ user.name }}</h2>
    <p>é‚®ç®±ï¼š{{ user.email }}</p>
  </div>
</template>
```

---

## ä¸‰. é¢å¤–çš„......

### å…¨å±€æ‹¦æˆªå™¨ï¼ˆåŠ  Tokenï¼‰

åœ¨ç™»å½•ç³»ç»Ÿä¸­ï¼Œå¾ˆå¤šè¯·æ±‚éœ€è¦æºå¸¦ç”¨æˆ·çš„èº«ä»½å‡­è¯ï¼ˆTokenï¼‰ã€‚ä½ å¯ä»¥é…ç½®ä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨ï¼Œè‡ªåŠ¨ç»™æ‰€æœ‰è¯·æ±‚åŠ ä¸Š Tokenï¼š

```js
// åœ¨ main.js æˆ– http.js ä¸­ç»Ÿä¸€é…ç½®
axios.interceptors.request.use(config => {
  const token = localStorage.getItem('token') // ä»æœ¬åœ°è·å– Token
  if (token) {
    config.headers.Authorization = `Bearer ${token}`
  }
  return config
})
```

---

###  å¯é€‰ä¼˜åŒ–ï¼šä½¿ç”¨ Vite ä»£ç†ç®€åŒ–è¯·æ±‚åœ°å€

ä½ å¯èƒ½æ³¨æ„åˆ°è¯·æ±‚åœ°å€å†™æˆ `http://localhost:8080/...`â€‹ å¾ˆä¸ä¼˜é›…ã€‚å¦‚æœä½ åœ¨ `vite.config.js`â€‹ ä¸­åŠ äº†ä»£ç†ï¼š

```js
// vite.config.js
export default {
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true
      }
    }
  }
}
```

é‚£ä¹ˆåœ¨å°è£… Axios æ—¶å¯ä»¥æŠŠ base æ”¹ä¸ºï¼š

```js
const base = '/api/users'
```

è¿™æ ·ä½ å†™ `axios.get('/api/users/1')`â€‹ï¼Œå…¶å®å†…éƒ¨å°±ä¼šä»£ç†æˆ `http://localhost:8080/api/users/1`â€‹ï¼Œå‰ç«¯ä»£ç æ›´ç®€æ´ï¼Œè·¨åŸŸé—®é¢˜ä¹Ÿè§£å†³äº†ã€‚

â€
